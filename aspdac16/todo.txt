unify the registers and states
fig1c) C*C is not clear

