% !Mode:: "Tex:UTF-8"
\chapter{相关研究}
\label{chap:2}
有效组织的拓扑结构是无线传感器网络中重要的研究内容，其作用贯穿于信息的收集、传输和处理等各项基本的网络功能。拓扑问题作为当前的研究热点，已经产生了大量的研究成果。本章首先介绍无线传感器网络拓扑问题的基本概念，然后对拓扑压缩问题的相关研究工作进行分类和分析。
\section{拓扑问题的基本概念}
在无线传感器网络中，部署在监测区域内的大量节点以无线自组织的方式形成网络，节点之间的组织关系或组织模式即构成了一般意义上的拓扑结构。具体的拓扑结构分为多种不同的类型，如各种树结构、连通支配集、连通覆盖集、网络边界、网络骨干、网络分簇等。每一种拓扑结构都可以理解为网络中位于一定抽象层次，具有某种拓扑特征的逻辑结构。从完整的网络拓扑信息中，通过一定的拓扑压缩方法，识别或构造出各种特定的拓扑结构，对于无线传感器网络中各种协议的设计具有重要的作用。本节首先简要介绍拓扑结构的分类和拓扑问题算法的分类，然后给出本文中用到的一些基本的模型和术语。
\subsection{拓扑结构的分类}
无线传感器网络的拓扑结构从不同的角度可以划分为多种不同的类型。

首先，按照不同的抽象层次来划分，拓扑结构可以被视为不同的角色或者视图。从节点的层次来看，每个节点根据与其它节点之间的不同关系被赋予不同的角色，如聚合节点、簇头节点、父（子）节点等；从整个网络的层次来看，每种不同的拓扑结构都可以视为网络中具有某种特定属性的视图。

其次，从节点间连接关系的作用范围来划分，拓扑结构可以分为局部型结构和全局型结构。局部型结构的构成和改变仅涉及到局部的节点及其连接关系，典型的局部型结构包括临近图RNG图（relative neighborhood graph）、GG图（Gabriel graph）等；全局型结构由全局的节点及其连接关系确定，典型的全局型结构包括最短路径树、最小连通支配集、最小圈限覆盖集\upcite{cover_dongTC,cover_dongICDCS}等。

另外，按照不同的组织方式来划分，拓扑结构可以分为平坦型结构和层次型结构。在平坦型结构中，节点之间是具有相同功能角色的对等关系；在层次型结构中，根据节点的功能和角色的不同将网络划分为不同的层次，例如分簇结构中的簇头和簇成员、多汇聚节点网络中的汇聚节点和普通节点等。层次型结构具有协议简单、通信开销低、扩展性好的特点，因此得到了广泛的应用。

最后，按照有效信息和对应的研究手段的不同，拓扑结构又可以分为基于几何的结构和基于图论的结构。典型的基于几何的结构包括Voronoi图、网络区域分组、网络边界和空洞等，其构建和分析需要利用位置或距离等几何信息；典型的基于图论的结构包括独立集、支配集、分簇、各种树形结构等，可以完全不依赖几何信息，仅从图论的角度进行描述和分析。在无线传感器网络的研究中，采用几何和图论结合的方式往往可以起到较好的效果，比如经典的最大团（clique）问题，其求解在一般图中是NP 完全的，而在有几何表示的单位圆盘图约束时则是多项式时间可解的\upcite{udg}。最后，按照产生方式的不同，拓扑结构又可以分为构建型拓扑和识别型拓扑。大部分的拓扑结构属于构建型拓扑，是通过节点之间的连接关系和协作构造出来的，如各种树结构、独立集、支配集等；识别型结构则是在网络部署完成之后就已经形成的固有结构，需要利用相应的算法将它们识别和提取出来，如网络内外边界、连通分支等。
\subsection{算法的分类}
拓扑结构可以分为多种不同的类型，而相应的拓扑问题的算法也可以划分为不同的种类。

首先，按照有效信息的不同类型，算法可以分为基于位置的算法、基于测距的算法和仅基于连通性的算法。顾名思义，基于位置的算法假设网络中节点的位置信息是可知的，可能是精确的或者存在一定的误差；基于测距的算法则假设节点的位置信息不可知，但是可以通过某种测距手段获得节点之间的距离信息，并进一步通过定位算法获得节点的位置信息；基于连通性的算法则假设节点位置信息和距离信息均不可知，而仅有节点之间的连接关系可知。显然，基于连通性的算法在实际的大规模无线传感器网络中具有更好的实际可用性，但是由于缺乏一定的几何信息的约束，其算法的设计难度也更大。尤其是在要求保持较低的几何失真率的情况下，仅基于连通性的算法设计将更具有挑战性。

其次，按照有效信息的不同范围，算法可以分为集中式算法和分布式算法。集中式算法假设已知网络中某种全局信息，并在网络中的某处（汇聚节点或普通节点）执行集中式的计算；分布式算法不依赖全局信息，而仅利用一定范围的局部信息，并在不同节点上同步地执行分布式的计算。分布式算法由于可利用信息的范围有限，往往无法得到全局最优解，但是由于涉及到更低的通信和计算开销，在实际网络中具有更好的能效和可用性。

另外，按照所利用特征的不同类型，算法可以分为直接式算法和间接式算法。直接式算法一般在进行拓扑问题研究时，直接利用离散网络中的某些特性来进行算法的设计；间接式算法往往基于在连续域观察到的某些特征来对拓扑问题进行描述和分析，并将其扩展至离散网络中。直接式算法通常比较简单，但往往是基于局部特征的启发式算法，因此其准确性受限。典型的直接式算法如文献\upcite{wormhole_mobihoc11}中利用离散网络的局部连通性检验来检测虫洞攻击。间接式算法由于利用了在连续域观察到的特征，通常能够更好地反映拓扑结构的全局和本质特征，但是在将连续域特征转化为离散网络中的算法或协议时可能会带来一定的失真或网络开销。典型的间接式算法如文献\upcite{wormhole_ton}中将网络视为连续的流形表面，而虫洞的出现将会导致流形表面的亏格数增加，并利用这一观察结果设计了有效的虫洞检测算法。
\subsection{网络分布模型}
网络分布模型决定了网络的空间分布特征，无论是在实际的网络部署还是在仿真实验中，都发挥着重要的指导作用，是进行无线传感器网络拓扑结构研究的重要手段。
网络的分布模型主要包括节点部署方式和节点密度两个方面。

节点部署方式通常有两种：扰动网格和随机部署。扰动网格部署被广泛地用来近似有计划的人工部署方式\upcite{PerturbedGrid}。在扰动网络部署方式中，节点首先被均匀地部署在网格点上，然后在网格点上进行局部和随机的扰动。假设一个节点的网格点坐标为$(x,y)$，扰动系数为$p$，则该节点的实际位置位于$[x-pd,x+pd]\times[y-pd,y+pd]$的区域范围内，其中$d$为每个网格的边长。在随机部署方式中，节点被随机地放置在网络区域内的一点。随机部署方式一般对应于传感器节点被随机抛洒的情况。一般情况下，扰动网格部署方式比随机部署方式产生更加均匀分布的网络。节点密度是网络分布模型的另外一个重要方面，对网络中大量的功能和协议的设计及其性能产生重要的影响。

节点部署方式和节点密度是无线传感器网络研究中非常重要的因素。在拓扑压缩和其它很多拓扑问题的研究中，都将验证方法在不同节点部署方式和节点密度下的有效性和性能，作为评价方法的可用性和鲁棒性的重要方式和指标。
\subsection{图模型}
图模型也可称作节点通讯模型，描述了节点之间通讯链路的建立方式。最经典的图模型称为单位圆盘图（unit disk graph, UDG）\upcite{udg_appxi}，如定义\ref{def:201}所述，其中节点的通讯范围统一地表示为单位长度。单位圆盘图模型假设传感器节点部署在平面、无障碍的环境，节点均装备同构的全向无线收发天线，任意两个节点之间可以通讯当且仅当它们在相互的通讯范围内。
\begin{definition}\label{def:201}
给定网络连通图$G(V,E)$，以及从点集$V$到二维平面坐标$\mathbb{R}^2$的映射$\varepsilon:V\to\mathbb{R}^2$，如果$V$中任意的两点之间有边当且仅当它们对应坐标之间的距离不大于1，即$\forall u,v\in{V}, \|\varepsilon(u)\varepsilon(v)\|\le1\Leftrightarrow\{u,v\}\in{E}$，则图$G$是单位圆盘图，映射$\varepsilon$称为$G$的单位圆盘图嵌入或实现。
\end{definition}

单位圆盘图一直是无线自组织和传感器网络研究中广泛应用的一种进行几何分析的主要模型，反映了无线通讯的局部化几何特征，对算法的设计与分析具有重要的指导作用。单位圆盘图是比较理想化的模型，因为在实际的网络中不可能存在理想的无障碍环境，节点也不可能完全同构，而信号的传播可能由于干扰或障碍阻挡等原因与理想的单位圆盘图模型产生较大的背离。为了更好地反映真实网络的通讯模式，很多其它的介于单位圆盘图和一般通讯图模型之间的通讯图模型被提出，其中应用比较广泛的一种是类单位圆盘图（quasi unit disk graph, Q-UDG）模型，如定义\ref{def:202}所述。单位圆盘图可以看作是参数$\rho$为1的类单位圆盘图。
\begin{definition} \label{def:202}
给定网络连通图$G(V,E)$，常数$\rho\in(0,1]$以及映射$\varepsilon:V\to\mathbb{R}^2$，若满足以下三个条件，则图$G$是$\rho$类单位圆盘图，映射$\varepsilon$称为$G$的$\rho$类单位圆盘图嵌入或实现：（1）两点坐标之间的距离大于1时，它们之间没有边，即$\forall u,v\in{V}, \|\varepsilon(u)\varepsilon(v)\|>1\Rightarrow\{u,v\}\notin{E}$；（2）两点坐标之间的距离不大于$\rho$时有边，即$\forall u,v\in{V}, \|\varepsilon(u)\varepsilon(v)\|\le\rho\Rightarrow\{u,v\}\in{E}$；（3）两点坐标之间的距离大于$\rho$且不大于1时，它们之间以一定概率随机地决定是否有边。
\end{definition}

单位圆盘图和类单位圆盘图是无线传感器网络研究中常用的模型，也是本文工作中经常用到的。如果单位圆盘图中每个节点的位置已知，即实现了图的一种有效嵌入，则称为几何表示的单位圆盘图（简称几何单位圆盘图）。对应地，如果单位圆盘图中节点的位置不确定，则称为无几何表示的单位圆盘图，或组合单位圆盘图。从直观上理解，组合单位圆盘图的有效嵌入可以理解为图在平面上的一种直线画法，即任意两点之间存在直线边当且仅当它们之间的距离不大于1。
\section{拓扑压缩问题及应用}
拓扑结构作为无线传感器网络中一系列网络功能和协议的基础条件和重要保证，一直以来都是非常重要的研究内容。拓扑压缩技术是拓扑结构研究中的核心内容，致力于对网络拓扑结构进行压缩和简化处理，从中抽取出某些具有特殊的几何或组合图属性的子结构，如网络边界、网络骨干、各种类型的网络攻击造成的异常拓扑、平面化拓扑、网络覆盖拓扑等。这些拓扑结构对于设计高效的网络协议和算法，从而提高网络的能效、可靠性、安全性等，具有十分重要的作用。拓扑压缩技术的各项研究内容一直以来都得到了广泛的关注和研究，产生了大量的研究成果。下面介绍本文所研究的拓扑压缩技术中几个关键问题，如拓扑骨干提取、虫洞拓扑识别、路由路径记录问题、贪婪地理路由等，并对目前已有的研究工作进行分类和分析。
\subsection{拓扑骨干提取}
拓扑骨干提取是无线传感器网络拓扑压缩技术的重要研究内容。骨干提取源自计算机视觉\upcite{skeleton_vision}和计算机图形学\upcite{skeleton_graphics}，其中骨干被视为对研究对象的几何特征的一种重要描述。后来，骨干被引入到无线传感器网络的研究中，并被利用来辅助路由算法的设计\upcite{skeleton_mobihoc05}。在无线传感器网络的研究中，骨干（skeleton）又称为中轴（medial axis），是网络拓扑中一种重要的特殊结构，在很大程度上反映了网络部署区域的几何特征。拓扑骨干由于具有良好的拓扑和几何属性，使得其可以被利用来有效地改善很多网络协议和算法（包括路由、定位、网络分区、导航等）的性能。在无线传感器网络的拓扑骨干提取问题研究中，大部分的方法不依赖位置信息，而仅利用网络连通性信息。下面对目前已有的主要研究工作进行介绍和分析。

首先，Bruck等人\upcite{skeleton_mobihoc05,skeleton_wn}提出了识别网络骨干的MAP算法，并设计了基于骨干的路由协议来改善路由的负载均衡性能。MAP算法以网络边界节点信息作为输入，将满足以下条件的节点定义为骨干节点：对于骨干上的每个节点，至少存在两个边界节点到该点的最短距离相同。MAP算法的主要局限在于严格地依赖精确的边界节点信息。当存在边界噪声（即错误的边界节点信息）时，提取出的骨干的质量较差，往往与网络实际的几何形状存在较大的偏差。另外，算法无法保证提取出的骨干图是连通的。

为了改善所提取出的骨干的质量，Jiang等人\upcite{skeleton_infocom09}提出了改进的机制，设计了CASE骨干提取算法。CASE算法首先确定网络中的一些拐角点（corner points），然后利用这些拐角点将网络边界划分为若干分支。骨干节点的定义采用以下条件：对于任意一个骨干节点，至少存在两个位于不同边界分支上的边界节点到该点的最短距离相同。按照以上原则提取出的骨干节点构成一系列较短的弧形片段。算法利用一些启发式方法将这些片段连接起来形成初始的骨干网络，并执行必要的修剪操作得到最终的骨干网络。CASE算法通过采用改进的骨干节点定义，能够识别出高质量的连通骨干图，并改善了算法在存在边界噪声情况下鲁棒性。但是CASE算法仍然存在局限，即仍然依赖完整的边界节点信息。当边界节点比较稀疏时，算法的性能较差甚至无法得到有效的连通骨干。

为了放松方法对完整边界节点信息的依赖，Liu等人\upcite{skeleton_icdcs12}提出了利用不完整边界节点信息的骨干提取算法DIST。DIST算法的基本思想是借鉴计算机图形学中的距离变换（distance transform）工具\upcite{distance_transformation}。与之前的方法不同，DIST算法利用网络的距离变换信息来计算骨干节点。首先，网络中每个节点计算出自身到边界的最短距离，作为距离变换信息。然后，利用骨干节点往往位于距离变换的峰值位置（ridge）这一原则来判定骨干节点。这一原则在计算机视觉研究中得到了证明并被广泛应用。接下来，算法进一步地通过一系列启发式的操作将骨干节点连接起来形成初始的骨干网络，并执行必要的修剪操作得到最终的骨干网络。DIST算法在仅有部分边界节点信息可用时，仍然能够提取出有效的骨干网络，因此相对于MAP和CASE算法具有更广泛的适用性。但DIST算法仍然依赖部分的边界信息，并且由于边界节点的数量更少，算法更容易受到边界噪声的影响而使得骨干网络的质量和连通性变差。

进一步地，Liu等人\upcite{skeleton_icdcs122}又提出了完全不依赖边界节点的骨干提取算法。算法提出了一种不依赖边界节点信息的骨干节点识别方法，其基本思想基于如下的观察：直观上，骨干节点位于网络区域的中心位置，因此与普通节点相比，骨干节点往往拥有更多的邻居节点；相应地，与骨干节点距离越近的节点，其邻居数量也相对较多。基于这一基本思想，作者提出了通过计算和比较节点的邻居集合的大小来判定骨干节点。具体地，每个节点利用局部的邻居集合信息计算一个自身的中心值（centrality index），具有局部最大的中心值的节点被视为骨干节点。接下来，与DIST算法类似，算法执行一系列启发式的连接操作和必要的修剪操作，得到最终的骨干网络。该算法不依赖于边界节点信息，因此相对之前的方法具有更好的适用性。但该方法由于仅利用了节点的局邻居集合大小这一简单的启发式属性，使得其容易受到网络部署特性的影响，如在节点分布随机性较强、节点密度较低的网络中，可能会由于识别出的骨干节点的数量太少导致骨干网络的连通性较差，甚至无法生成确定的拓扑骨干，因此可能得到与网络的实际几何形状不相符的拓扑骨干。
\subsection{虫洞拓扑识别}
虫洞攻击是无线自组织与传感器网络中一种危害严重的攻击方式\upcite{wormhole_cnds05,wormhole_icnp02}。在虫洞攻击中，攻击者在网络中距离较远的两点之间建立优质高速的虫洞链路，使得虫洞两端的节点错误地认为彼此距离很近并通过虫洞链路传输数据包。借此，攻击者可以吸引大量的网络数据包，并进一步发动多种危害严重的攻击。虫洞攻击从根本上改变了网络的拓扑结构，从而极大地危害网络中的各种协议和功能，包括路由、定位、拓扑控制等。虫洞攻击一直是无线自组织和传感器网络中的一个研究热点，大量的虫洞检测方法被提出。目前已有的检测方法基本上都是针对虫洞在网络中引起的某种症状，相应地设计检测机制。这些检测方法大部分基于不同的网络假设，其可用性与系统配置和具体的应用紧密相关，因此具有各自的适用范围和优缺点。本文将已有的研究工作大致上分为两种类型：基于硬件设备和网络假设的检测方法，以及仅基于网络拓扑信息的检测方法。下面分别对两类方法进行具体介绍。
\subsubsection{基于硬件设备和网络假设的检测方法}
这一类方法涵盖了大部分的虫洞检测方法，其主要原理在于利用特殊的硬件设备或者在某种网络设置条件下，捕获虫洞攻击造成的特定的异常现象。这一类方法又可以进一步分为五个不同的子类，下面分别进行具体介绍。

第一，有些方法基于捕获欧式距离失配现象，其基本思想是假设节点位置已知，通过判断数据包传输距离的合法性来检测虫洞链路。例如，Hu等人\upcite{wormhole_infocom03}提出了基于地理位置的包约束方法。该方法在每个数据包中加入发包节点的位置信息，在包传输过程中逐跳地检验链路所跨越的欧式距离是否超出正常的节点通讯范围来判定是否允许包的发送，从而限制并检测虫洞链路。为了降低存储和计算开销，Wang等人\upcite{wormhole_wwcmc}进一步将逐跳的检验扩展至限制发送源到目标节点间端到端的距离。每个节点只需要较低的固定存储开销，而总的计算开销与路径长度成正比。Zhang等人\upcite{PerturbedGrid}提出了基于位置的相邻关系认证模式来定位虫洞。这类方法的局限性在于需要预知节点的精确位置信息，才能准确地捕获虫洞攻击引起的欧式距离失配现象。

第二，有些方法基于捕获通讯时间失配现象，其基本思想是通过判断数据包传输过程中的发送时间的合法性来检测虫洞链路。例如，Hu等人\upcite{wormhole_infocom03}提出了基于传输时间的包约束方法。该方法假设全网存在高度同步的时钟，通过检验数据包通过虫洞链路传输时较长的传输时间延迟来检测虫洞链路。为了消除对精确时钟同步的依赖，Capkun等人\upcite{wormhole_sasn03}提出了SECTOR方法。该方法通过测量数据包传输的往返时间（RTT）来检测虫洞造成的传输时间延迟。但该方法需要专门的硬件，以确保单位位宽的查询响应消息能够在无CPU介入的情况下快速完成。Eriksson等人\upcite{wormhole_icnp06}提出了另一种基于RTT的检测方法，称为TrueLink。TrueLink不需要专门的硬件，其主要思想是在相邻的节点间进行大量数据包传输，并对包内嵌入的时间戳信息进行验证。但该方法需要较强的通讯能力，因此在资源受限的无线传感器网络中的可用性受到限制。

第三，有些方法基于捕获邻居关系异常现象。例如，Khalil等人\upcite{wormhole_liteworp}提出了LiteWorp方法。该方法假设在攻击者发动虫洞攻击前，存在一段时间不受攻击的安全网络环境。在这段时间内，每个节点收集和记录下自身所有可能的合法的两跳邻居信息。然后从网络中选择一些节点作为警卫节点来监听不合法的通讯链路，从而限制并检测潜在的虫洞链路。后来，Khalil等人\upcite{wormhole_mobiworp}又进一步提出了MobiWorp方法对LiteWorp方法进行改进，其主要贡献在于引入了位置已知的移动节点来提高检测的性能。Poovendran等人\upcite{wormhole_poovendran}提出了一种图理论框架来检测虫洞。该方法在网络中设置一些具有极大信号发送半径的警卫节点。正常情况下，警卫节点与普通节点之间的有向通信链路隐式地形成具有一定特征的几何图，而虫洞链路的出现将破坏该图的性质。这类方法的主要局限在于需要一段时间的安全网络环境或专门的警卫节点，从而在很大程度上限制了这类方法的可用性。

第四，有些方法基于捕获网络信息统计中的异常现象。例如，Song等人\upcite{wormhole_ipdps05}对正常和受虫洞攻击的网络中的通讯链路在路由中使用的频率分别进行统计分析，得到一定的规律和模式，然后基于虫洞链路具有明显更高的使用频率来检测虫洞。Buttyan等人\upcite{wormhole_ESAS}提出了另外一种统计的方法，其基本思想是虫洞链路在很大程度上导致节点邻居数量的增加以及节点之间最短路径长度的减小。该方法在基站中预先对正常网络中的情况进行统计分析，并通过假设检验方法来检测潜在的虫洞。这类方法仍然需要假设存在一段时间的安全网络环境以获得必要的先验知识，且基于统计方法的检测准确性无法得到理论上的证明。

最后，有些方法基于特殊的硬件设备。例如，Hu等人\upcite{wormhole_infocom03}提出利用物理层机制来防止虫洞攻击，如利用特殊的无线电频率（RF）设备在数据包的调制、解调过程中引入验证机制。Hu等人\upcite{wormhole_ndss04}还提出了定向天线的方法。该方法假设每个节点装备定向天线，利用天线的定向性从物理信号传输层预防和检测非法的虫洞链路。Zhang 等人\upcite{wormhole_underwater}提出了水下声音传感器网络中的虫洞检测方法，针对水下声音传感器网络的特殊性质，设计了安全的邻居发现协议。这类方法由于需要特殊的硬件设备或者专门的应用场景，因此其应用范围受到限制。
\subsubsection{基于拓扑信息的检测方法}
为了放松对特殊硬件设备和理想网络假设的依赖，研究者提出了基于拓扑信息的虫洞检测方法。这类方法仅利用网络拓扑信息，通过捕获虫洞攻击引起的网络拓扑异常现象来检测虫洞。本文将这类方法进一步分为两个子类，下面分别对其适用范围和优缺点进行介绍。

第一类是直接的方法，其基本思想是直接在离散域挖掘虫洞攻击造成的拓扑症状。例如，Wang等人\upcite{wormhole_wise04}提出了图可视化的虫洞检测方法。该方法首先计算所有节点对之间的最短路径长度，获得网络的距离矩阵。然后以该距离矩阵为输入，利用多维标度（MDS）技术重构网络，为网络中所有节点分配虚拟坐标。最后通过在重构的网络连通图中检测虫洞链路引起的网络卷曲特征来检测虫洞。但是，该方法仅适用于两端各存在一个虫洞节点的特例，而无法处理一般模型下的虫洞攻击。另外，该方法需要在中央控制节点执行集中式的计算，因此其可扩展性较差。Maheshwari等人\upcite{wormhole_infocom07}首次提出了仅利用局部连通性信息的分布式虫洞检测方法，将网络建模为单位圆盘图，利用单位圆盘图嵌入的填充数禁止属性来检测虫洞。在均匀部署的单位圆盘图中，该方法执行简单且具有较好的检测效果。但在非单位圆盘图下，填充数禁止属性的门限值会变得很大甚至没有上限，使得该方法不能准确地检测出虫洞。另外，即使在单位圆盘图下，虫洞的出现并不一定会引起填充数的增加（例如网络比较稀疏时），从而也将导致方法的失效。Ban等人\upcite{wormhole_mobihoc11}提出了局部连通性检验方法来检测虫洞，其基本思想如下：对于网络中正常的节点，其局部邻居子图在移除该节点的一个较小的邻域（neighborhood）后仍然是单个的连通分支；而对于虫洞节点，其局部邻居子图在移除该节点的一个较小的邻域后将被分割成两个连通分支。该方法利用这一原则检测潜在的虫洞节点，并从疑似虫洞节点组成的连通分支中提取出由虫洞节点和虫洞链路构成的极大完全二部图，从而实现虫洞的定位。该方法在均匀、稠密部署的网络中能够准确地检测出较长的虫洞链路，但在随机、稀疏部署的网络中可能会产生大量的误报，即将正常节点误判为虫洞节点。以上直接方法的优势在于直接地检测离散域的虫洞症状，因此比较简单，但这些方法往往是启发式的方法，仅利用了局部的拓扑特征，因此检测的准确性缺乏可靠的理论证明。

第二类是间接的方法，其基本思想是将网络部署区域看作流形表面，在连续域中分析虫洞造成的全局症状，并进一步将其扩展至离散网络中的检测算法。例如，Dong等人\upcite{wormhole_icpads09}提出了WormCircle算法，其基本思想来自于虫洞对物理信号传播的影响。具体来讲，网络中信号的传播可以看作一个圆形波（circular wave），而波阵面（wavefront）在源节点周围形成了一系列的等值线（isoline）。当网络中存在虫洞时，波阵面将在虫洞的两端分别扩散形成较小的圈。WormCircle 利用了这一连续域中的观察结果并将其扩展至离散网络中的分布式算法。但该方法的局限性在于根节点的选择在很大程度上影响虫洞检测的准确性。随后，Dong等人\upcite{wormhole_ton,wormhole_icnp09}又提出了另一种虫洞检测方法。该方法将多跳无线网络的部署表面看作是连续域中亏格数0的流形表面，而虫洞的出现将导致表面的亏格数变化。作者分析和证明了不同种类的虫洞对网络表面亏格数的具体影响，并进一步将以上思想扩展至离散域，设计了离散网络中的基于局部连通性信息的分布式检测方法。以上间接方法的优势在于在连续域分析和捕获虫洞造成的全局症状，其有效性能够在理论上得到证明；但其局限性在于将连续域的观察结果扩展至离散网络中的检测算法时可能引入一定的失真，且带来相应的通讯和计算开销。
\subsection{路由路径记录}
路由路径记录是无线传感器网络中一项重要的功能，对于提供可靠的数据传输和细粒度的网络管理具有重要的作用。与传统的有线网络不同，无线传感器网络中资源严格受限，无法做到将数据包所经过每个节点的初始地址信息记录在数据包中。因此需要设计一种轻量级的路由路径压缩方法，在维持较低计算和存储开销的基础上，又能够实时地获得所有数据包的完整传输路径。之前的很多研究工作都在一定程度上利用了数据包路径信息，如网络调试和诊断\upcite{diagnosis_pad,diagnosis_sympathy,diagnosis_tolle,diagnosis_woo}等。另外，为了降低网络中传输的数据量，大量的数据压缩和聚合算法被提出，有效地降低了数据传输带来的能量消耗。但这些数据压缩、聚合方法均无法有效地应用于路由路径压缩问题。下面对无线传感器网络中路由路径相关以及数据压缩方面已有的研究工作进行介绍。

首先从研究目的上来看，无线传感器网络的路由路径记录主要为了改善网络状态的可见性，这与之前的网络断层扫描（network tomography）技术非常类似。网络断层扫描的研究比较成熟且应用广泛，最初是应用在Internet中的一种网络状态可视化技术\upcite{network_tomography,internet_tomography,Network_Tomography_survey}。网络断层扫描技术主要包括损耗扫描（loss tomography）和延迟扫描（delay tomography）两种。损耗扫描通过向网络中发送探测（probe）信号找出损耗严重的链路\upcite{loss_tomography_ITC,loss_tomography_infocom01}。延迟扫描通过端到端的探测信号找出链路延迟信息，从而辅助隔离由于拥塞造成的较大的队列延迟\upcite{delay_tomography}。网络断层扫描的另外一种典型的应用是找出由于被多条路经共享而成为潜在瓶颈的链路\upcite{tomography_congestion}。后来，网络断层扫描技术被引入到无线传感器网络研究中。Zhao等人\upcite{tomography_wsn_sigcomm02}提出了eScan，利用断层扫描技术构建网络健康状况的抽象描述。Mao等人\upcite{tomography_wsn_jsac}提出在无限传感器网络中引入断层扫描技术来检测链路损耗。Nguyen等人\upcite{wsn_tomography}提出了一种统计分析的方法，利用最大似然法和贝叶斯方法估计失效的链路。实际上，无线传感器网络的路由路径记录技术可以看作是一种数据包级的网络断层扫描，目的是更细粒度地改善网络状态的可见性。例如，Keller等人\upcite{wsn_tomography_sensys12}提出了多跳网络断层扫描技术，致力于追踪无线传感器网络中数据包逐跳的到达顺序和到达时间信息，从而恢复出数据包的完整路径。但他们的方法仅适用于路由比较稳定的树形路由协议，且假设网络中所有的节点都必须产生数据包，并按照FIFO的方式发送数据包。在网络中存在仅转发数据包的节点、丢包或路由动态性较强的情况下，该方法不准确或无法得到完整的路径信息。

与路由路径记录技术相关的另一项研究内容是调试和诊断技术。例如，PAD\upcite{diagnosis_pad}是一种基于概率的在线故障诊断工具。PAD采用了一种轻量级的包标记方法，在数据包传输过程中，按照一定的规则选定一个节点将其ID标记在数据包中，并更新数据包中记录的跳数域的值。在汇聚节点，对来自同一个源节点的数据包中记录的信息进行分析就可以回溯得到来自该源节点的数据包的传输路径。在路由比较稳定的情况下，该方法可以很快收敛并重构出路由拓扑。然后，通过对传输路径的变化情况进行分析就可以捕获网络中的一些异常事件，并通过概率推理模型获得准确的诊断结果。PAD在海洋监测系统中得到了实际的应用，其有效性得到了验证。但当路由变化比较频繁时，该方法的收敛时间将显著增加甚至无法收敛。Sympathy\upcite{diagnosis_sympathy}是另一种网络调试工具，用来检测和调试传感器网络中的失效。Sympathy周期性地从每个节点收集相关信息，如邻居列表、数据流等，并由汇聚节点根据收集到的信息对网络的健康状况进行分析。另外，Sympathy利用经验决策树工具对观察到的异常现象的根源进行分析。SNMS\upcite{diagnosis_tolle}是一种传感器网络中应用协作的管理系统，用来记录和检索网络在运行过程中产生的事件和状态信息。Woo等人\upcite{diagnosis_woo}尝试通过连通性分析和邻居信息管理来开发网络拓扑的可视化技术，如链路状况、路由信息等。另外，在无线传感器网络的诊断技术方面，还存在大量的日志记录相关技术，分别被利用来记录网络中不同的日志信息，如函数调用\upcite{diagnosis_mobisys07,diagnosis_esl}、控制流\upcite{diagnosis_nicop08,diagnosis_date10}、事件日志\upcite{diagnosis_sensys08}、能量日志\upcite{diagnosis_ipsn10}等。

另一项相关的研究工作是数据压缩和聚合技术\upcite{compression_icit,aggregation_survey}，致力于对网络中产生的数据进行压缩或聚合以降低需要传输的数据量并降低能耗。例如，S-LZW\upcite{compression_sensys} 是一种典型的无线传感器网络数据压缩算法。节点首先将到达的数据保存在缓存中，并在缓存的数据量达到一定门限值时对数据进行压缩操作。该方法由于引入了缓存机制，对数据的传输带来一定的延迟。另外算法没有考虑传感器网络中数据之间显著的空间、时间相关性，因此其压缩率并不理想。还有一部分研究工作利用数据之间的时间相关性\upcite{compression_mobicom02,compression_spm}或空间相关性\upcite{compression_sensys04,compression_dmsn04,compression_ICC,compression_ipsn}，设计了一系列的数据压缩和聚合算法。Liu等人\upcite{compression_tpds}综合考虑传感器网络中数据的空间和时间相关性，提出了能量高效的时空相关的数据收集框架。空间相似性的挖掘是通过采样数据的不相似度测量结果对节点进行动态分组。这种基于采样数据不相似度的分组方法相对于简单地按照节点感知范围来分组的方法更加准确，能够更好地挖掘数据之间的空间相关性。时间相关性的挖掘是利用分段线性近似技术对数据进行处理，在满足近似精度要求的基础上最小化需要传输的数据。另外，还有一些专门应用于多媒体传感器网络的数据压缩和聚合方法的研究\upcite{compression_infocom10}。近期，Sundaram等人\upcite{trace_compression}提出了针对无线传感器网路中日志数据的压缩算法，将在线算法和离线算法相结合，提高了日志数据的压缩率并降低能耗。虽然对无线传感器网络中数据压缩、聚合技术的相关研究已经很多，但由于路由路径压缩问题的特殊性，对压缩方法提出了新的要求和挑战，如路由路径的数据量非常的小，对压缩算法的实时性要求非常高等，而传统的数据压缩算法无法满足这些要求。
\subsection{贪婪地理路由}
地理路由也称为几何路由或基于位置的路由。贪婪地理路由由于其简单性和低开销性成为无线传感器网络中应用广泛的路由方法。贪婪地理路由协议使用节点的位置作为路由地址，每个节点以贪婪的方式将数据包发送至与目标距离最近的邻居节点，因此路由的决策仅依赖局部信息。在稠密均匀部署且不存在空洞的网络中，地理路由效率很高且生成的路径与最优路径很接近。但是当网络稀疏或者存在空洞时，贪婪路由会遭遇局部最小，即当前节点由于没有与目标距离更近的邻居节点而导致贪婪路由失效。为了克服局部最小问题，研究者提出了大量的解决方案。下面对这些相关的研究工作进行分类和分析。

首先，Karp等人\upcite{routing_mobicom00}提出了称为GPSR的贪婪地理路由协议，路由决策仅依赖于节点的直接邻居的位置信息，从而使得路由的设计和实现非常的简单高效，且具有良好的扩展性。同时为了克服局部最小问题，GPSR设计了边缘路由（perimeter routing）策略。首先利用构造RNG图（relative neighborhood graph）和GG图(Gabriel Graph)的方法对网络图进行平面化处理，获得一个平面化子图。当遇到局部最小时，利用该平面化子图和右手定则执行边缘路由过程，以保障数据包的有效传输。随后，贪婪路由获得了广泛的关注，并产生了大量基于边缘路由策略的贪婪路由协议\upcite{routing_wn,routing_podc03,routing_cc,routing_dialm2002,routing_mobihoc03}。但是，边缘路由的主要局限在于严格依赖于精确的节点位置信息。而在实际的网络中，获得节点的精确位置信息十分困难，即使在每个节点上装备GPS设备，仍然存在一定的测量误差。另外，在形状复杂的网络中，局部最小现象可能频繁地出现，导致生成的路由路径产生严重的失真，即路径长度远远大于最优路径。另外，边缘路由方法的负载均衡性较差。具体来讲，网络空洞附近的节点被频繁地被使用，使得其能量更快地耗尽，从而导致网络空洞越来越大。

第二类方法是基于地标的路由机制。为了获得更好的负载均衡性能，Fang等人\upcite{routing_glider}提出了一种称为GLIDER的路由方法。GLIDER采用基于地标（landmark）的层次式路由策略。首先从网络中选择少量的节点作为地标节点，剩余的所有节点按照一定的原则被分配给地标节点，从而将网络划分为一些基于地标节点的Voronoi分区。然后利用分区之间的邻接关系建立地标节点间的路由表，并利用该路由表来指导分区间的路由决策。在局部，每个节点维护到其所属分区及相邻分区的地标节点的距离梯度信息，并利用该距离梯度信息来指导局部的路由选择。全局路由表和局部的距离梯度信息相结合，构成了分区间及分区内的完整的路由决策依据。GLIDER协议的优势在于不依赖节点的位置信息。但是GLIDER仍存在显著的局限性：一方面，由于节点的存储空间有限，使得全局路由表的大小严格受限，从而决定了地标节点的数量非常有限；另一方面，在大规模的网络或形状复杂的网络中，为了使地标节点中存储的本分区内的节点信息尽量少，要求选择尽量多的地标节点并将网络化分为尽量多的分区。这两条互相矛盾的要求，使得GLIDER在大规模和具有复杂形状的网络中的扩展性和可用性受限限制。

第三类克服局部最小化问题的方法是基于网络分割的方法\upcite{shapesegmentation,segmentation_infocom09,segmentation_mobihoc10}。这类方法的基本思想是将网络分割为一系列分区，在这些分区内简单的贪婪路由可以始终有效地执行。Zhu等人\upcite{shapesegmentation}首次将网络分割方法应用于传感器网络的路由协议设计，提出将形状不规则的传感器网络区域划分为一系列具有良好形状的分区，保证了一些依赖良好网络形状的算法和协议可以在这些分区内正常地执行。Tan等人\upcite{segmentation_infocom09}进一步地提出将网络分割为凸分区，并设计了仅依赖连通性信息的凸分区划分算法，并基于该图分区划分算法设计了称为CONVEX的地理路由协议。在这些凸分区内，贪婪路由能够始终有效地执行。随后，Kermarrec等人\upcite{segmentation_mobihoc10}进一步地研究如何将网络分割成最少数量的可贪婪路由分区。首先在连续域证明了可贪婪路由分区的充分必要条件，指出可贪婪路由的多边形区域不是必须为凸的；随后证明了连续域中最小可贪婪路由分区问题是NP完全的，并证明了可贪婪路由区域内的路径失真率上限为3；最后设计了离散网络中的可贪婪路由区域分割算法以及基于分割的路由协议。除了路由协议，网络分割还在其它的网络功能中得到了应用，如定位算法\upcite{segmentation_infocom12}。基于网络分割的方法的优势在于不需要保存全局的状态信息。但是，如何准确地将网络分割为可贪婪路由的分区是一项非常有挑战性的工作，并且往往需要利用精确的节点位置信息。

第四类方法是基于虚拟坐标的方法\upcite{planar_funke,virtual_coordinate_dialmpomc,virtual_coordinate_mobicom03,virtual_coordinate_infocom08,virtual_coordinate_infocom07,virtual_coordinate_ipsn09,virtual_coordinate_infocom10}。 这类方法的基本思想是利用图嵌入技术为网络中所有节点分配虚拟坐标，在虚拟坐标空间中贪婪路由可以始终有效地执行。这类方法不需要节点位置信息，也不需要在每个节点上保存全局的状态信息。Rao等人\upcite{virtual_coordinate_mobicom03}首次将虚拟坐标方法应用于贪婪路由，设计了称为NoGeo的路由协议。NoGeo将网络边界固定在一个凸的平面曲线（如正方形或者环）上，而内部节点则利用橡皮筋表示（rubberband representation）方法\upcite{rubberband}进行嵌入。这样，每个节点将获得一个虚拟坐标，而贪婪路由在虚拟坐标空间中可以始终有效地执行。Sarkar等人\upcite{virtual_coordinate_ipsn09}提出了基于里奇流（Ricci flow）的具有传输保证的贪婪路由方法。该方法利用里奇流对网络连通图进行处理，得到一个保角变换图，在图中为每个节点分配一个虚拟坐标值。在虚拟坐标空间中，初始网络中的每个内部空洞的边界都会被映射成一个规则的圆环，从而保证了贪婪路由能够始终有效地执行。随后，Klernberg等人\upcite{virtual_coordinate_infocom07} 又提出了将网络映射到双曲线空间。由于双曲线空间始终是凸的，从而保证了贪婪路由的成功执行。Klernberg等人\upcite{virtual_coordinate_infocom10}又进行了改进，提出了基于双曲线嵌入的弹性路由协议。协议利用双曲线空间的良好特性，实现了具有传输保证，能够提供多条同伦路径选择的路由机制，因此具有良好的负载均衡性能。

最后一种需要强调的方法是被称为MGGR\upcite{routing_funke}的层次式地理路由协议。MGGR的基本思想是将地标路由和贪婪地理路由相结合，设计一种层次式的贪婪地理路由协议。首先，MGGR从所有的节点中选择一个极大独立集作为地标节点，并将剩余的所有节点按照到地标节点的距离进行分配，从而将整个网络分割为一系列基于地标的Voronoi分区。然后，每个节点记录下自身所属的地标节点以及相邻的地标节点的位置信息。在数据包传输过程中，每个节点根据保存的地标节点位置信息，贪婪地选择距离目标节点最近的相邻地标节点作为接下来的地标节点。另外，每个节点内还保存着到所有相邻的地标节点的距离梯度信息，并根据这些距离梯度信息完成局部的逐跳路由决策。MGGR方法通过在地标网络层采用地理路由策略，避免了GLIDER方法中对全局的路由表信息的依赖，从而使得网络可以根据需要被分割成任意多的分区。为了保证贪婪地理路由在地标网络层的成功执行，MGGR设计了基于CDM图（combinatorial Delaunay map）的平面化方法，在出现局部最小时切换至边缘路由过程。MGGR的另一个优势是能够在节点位置误差不超过上限值时保证数据包的成功传输。但是，MGGR仍然存在局限性。首先，基于CDM图的平面化方法仅在网络分区比较大的情况下才能保证得到连通的平面化子图。虽然仿真结果显示在分区直径为10时算法依然可以有效地执行，但理论分析却要求所有分区的直径至少大于290才能保证得到的平面化子图是连通的。另外，基于CDM图的方法得到的平面化子图的连通性较差，从而在很大程度上限制了路由协议的性能，如贪婪路由的成功率、路径长度等。
\section{本章小结}
本章综述了无线传感器网络中拓扑问题的基本概念、相关的模型和定义，对与本文研究工作相关的拓扑问题进行分类和分析。主要介绍了拓扑压缩技术中几个重要的研究问题，包括拓扑骨干提取、虫洞拓扑识别、路由路径记录、贪婪地理路由等，并对这些问题中已有的研究工作进行了具体的介绍和分析。
